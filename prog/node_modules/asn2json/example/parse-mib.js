const util = require('util');
const asn2json = require("../asn2json");
const fs = require('fs');
const path = require('path');

var asn = new asn2json();
var filePath = "../../../../input-file.mib.m";
var json = asn.parse(fs.readFileSync(filePath));
var destinationPath = path.dirname(filePath) + '/output-file.json';

fs.writeFile(destinationPath, JSON.stringify(json, null, 2), (err) => {
    if (err) {
        console.error('Error writing file:', err);
    } else {
        console.log('JSON saved to ' + destinationPath);
    }
});

// Optionally, you can still print the entire object or specific parts
console.log(util.inspect(json, {showHidden: false, colors: true, depth: null}));
// console.log(util.inspect(json["RFC-1212"].DEFINITIONS, {showHidden: false, colors: true, depth: null}));